var Harmony=window.Harmony={JSONP:"JSONP",CORS:"CORS",AUSTRALIA:"au",NEW_ZEALAND:"nz",INTERNATIONAL:"intl",AUSOTS:"AUSOTS",AUPAF:"AUPAF",GNAF:"GNAF",NZPAF:"NZPAF",NZAD:"NZAD",ID:"id",ATTRIBUTES:"attributes",EID:"eid",ADDRESS:"address",BUILDING_NAME:"buildingName",STATE_TOWN_CITY:"stateTownCity",LOCALITY:"locality",POSTAL:"postal",POSTAL_TYPE:"postalType",POSTAL_NUMBER:"postalNumber",POSTCODE:"postcode",POSTCODE_LOCALITY:"postcodeLocality",SOURCE_OF_TRUTH:"sourceOfTruth",STATE:"state",STREET_2:"street2",STREET:"street",STREET_ADDRESS:"streetAddress",STREET_NUMBER:"streetNumber",
SUBDWELLING:"subdwelling",SUBURB:"suburb",TOWN_CITY:"townCity",DISTRICT:"district",CITY:"city",PROVINCE:"province",FULL_ADDRESS:"fullAddress",FLOOR_LEVEL_TYPE:"floorLevelType",FLOOR_LEVEL_NUMBER:"floorLevelNumber",FLAT_UNIT_TYPE:"flatUnitType",FLAT_UNIT_NUMBER:"flatUnitNumber",LOT_NUMBER:"lotNumber",STREET_NAME:"streetName",STREET_TYPE:"streetType",STREET_SUFFIX:"streetSuffix",FLOOR_LEVEL_TYPES:"floorLevelTypes",POSTAL_TYPES:"postalTypes",STATE_TYPES:"stateTypes",STREET_TYPES:"streetTypes",STREET_SUFFIX_TYPES:"streetSuffixTypes",UNIT_FLAT_TYPES:"unitFlatTypes",SUCCESS:"SUCCESS",ERROR:"ERROR",
ENV_DEVELOPMENT:"http://dev.hosted.mastersoftgroup.com",ENV_TEST:"http://test.hosted.mastersoftgroup.com",ENV_PREVIEW:"http://preview.hosted.mastersoftgroup.com",ENV_PREVIEW_SSL:"https://preview-hosted.mastersoftgroup.com",ENV_PRODUCTION:"https://hosted.mastersoftgroup.com",_protocol:"",_baseUrl:"https://hosted.mastersoftgroup.com",_locale:"",_password:"",_username:"",_featureOptions:null,_transactionID:null,address:function(a,b,c){Harmony._lookup("/address",a,b,c)},buildingName:function(a,b,c){Harmony._lookup("/buildingName",a,b,c)},country:function(a,b,c){Harmony._lookup("/country",a,b,c)},
generateID:function(a){Harmony._generateID(a)},init:function(a,b,c){Harmony._username=a,Harmony._password=b,Harmony._locale=c,Harmony._protocol=Harmony.CORS,Harmony.generateID(function(a){a.status==Harmony.SUCCESS&&(Harmony._transactionID=a.payload)})},locality:function(a,b,c){Harmony._lookup("/locality",a,b,c)},postal:function(a,b,c){Harmony._lookup("/postal",a,b,c)},postcode:function(a,b,c){Harmony._lookup("/postcode",a,b,c)},state:function(a,b,c){Harmony._lookup("/state",a,b,c)},street:function(a,b,c){Harmony._lookup("/street",a,b,c)},streetNumber:function(a,b,c){
Harmony._lookup("/streetNumber",a,b,c)},subdwelling:function(a,b,c){Harmony._lookup("/subdwelling",a,b,c)},suburb:function(a,b,c){Harmony._lookup("/suburb",a,b,c)},townCity:function(a,b,c){Harmony._lookup("/townCity",a,b,c)},transaction:function(a,b){Harmony._lookup("/transaction",null,a,b)},useEnv:function(a){Harmony._baseUrl=a},useProtocol:function(a){Harmony._protocol=a},useFeatureOptions:function(a){Harmony._featureOptions=a},_getAjaxObject:function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},_getAuthorisation:function(){
return"Basic "+Base64.encode(Harmony._username+":"+Harmony._password)},_getJSONP:function(a,b,c){var d=Harmony._baseUrl+"/harmony/rest/"+Harmony._locale+a,e=b.payload[0],f=document.createElement("script"),g="jsonCallback_"+a.replace(/\//g,"_")+"_"+(new Date).getTime();"function"!=typeof c&&(c=function(){}),window[g]=c,b.Authorization=Harmony._getAuthorisation();for(var h in e)b[h]=e[h];if(delete b.payload,void 0!==b.featureOptions&&"object"==typeof b.featureOptions){var i="";for(var j in b.featureOptions)i+=j+":"+b.featureOptions[j]+";";b.featureOptions=i}
d+="?callback="+g+"&"+Harmony._getQueryString(b),f.src=d,f.onerror=function(){console&&console.error("Please check your configuration and permissions!"),c({error:"400",payload:[]})},document.getElementsByTagName("head")[0].appendChild(f)},_getQueryString:function(a){var b=null,c="";for(b in a)""!=c&&(c+="&"),c+=b+"="+encodeURIComponent(a[b]);return c},_lookup:function(a,b,c,d){var e={payload:[b]};null!=c&&(e.sourceOfTruth=c),null!=Harmony._transactionID&&(e.transactionID=Harmony._transactionID),Harmony._featureOptions&&(e.featureOptions=Harmony._featureOptions),
Harmony._protocol==Harmony.JSONP?Harmony._getJSONP(a,e,d):Harmony._protocol==Harmony.CORS&&Harmony._postJSON(a,e,d)},_generateID:function(a){var b={payload:[]};Harmony._protocol==Harmony.JSONP?Harmony._getJSONP("/generateID",b,a):Harmony._protocol==Harmony.CORS&&Harmony._postJSON("/generateID",b,a)},_postJSON:function(a,b,c){var d,e,f=Harmony._baseUrl+"/harmony/rest/"+Harmony._locale+a,g=Harmony._getAjaxObject();g.open("POST",f,!0),g.setRequestHeader("Content-Type","application/json"),g.setRequestHeader("Authorization",Harmony._getAuthorisation()),g.withCredentials=!0,
g.onreadystatechange=function(a){4==g.readyState&&(200==g.status?(d=JSON.parse(g.responseText),d.payload||(d.payload=[]),c(d)):c({error:g.status}))},e=JSON.stringify(b),e.replace(/\\"/g,"'"),g.send(e)}};Harmony.Parse={address:function(a,b){"string"==typeof a||a instanceof String?Harmony._lookup("/parse/address",{fullAddress:a},null,b):Harmony._lookup("/parse/address",a,null,b)}},Harmony.Cleanse={address:function(a,b,c){"string"==typeof a||a instanceof String?Harmony._lookup("/cleanse/address",{fullAddress:a},b,c):Harmony._lookup("/cleanse/address",a,b,c)}},Harmony.Types={
floorLevel:function(a,b){Harmony.Types._lookup("/floorLevel",a,b)},postal:function(a,b){Harmony.Types._lookup("/postal",a,b)},state:function(a,b){Harmony.Types._lookup("/state",a,b)},street:function(a,b){Harmony.Types._lookup("/street",a,b)},streetSuffix:function(a,b){Harmony.Types._lookup("/streetSuffix",a,b)},unitFlat:function(a,b){Harmony.Types._lookup("/unitFlat",a,b)},_lookup:function(a,b,c){var d={sourceOfTruth:b};Harmony._lookup("/type"+a,d,null,c)}},Harmony.Extensions={identify:function(a,b){Harmony._lookup("/identify",a,null,b)}},Harmony.Validate={address:function(a,b){
Harmony._lookup("/validate/address",a,null,b)},email:function(a,b,c){"string"==typeof a||a instanceof String?Harmony._lookup("/validate/email",{address:a},b,c):Harmony._lookup("/validate/email",a,b,c)},phone:function(a,b){Harmony._lookup("/validate/phone",a,null,b)}},Harmony.International={address:function(a,b){Harmony._locale=Harmony.INTERNATIONAL,Harmony._transactionID=null,Harmony._lookup("/address/find",a,null,b)},identify:function(a,b){Harmony._locale=Harmony.INTERNATIONAL,Harmony._transactionID=null,Harmony._lookup("/address/retrieve",a,null,b)}},Harmony.Company={abn:function(a,b,c,d,e){
Harmony._lookup("/companyLookup",{name:a,apiName:b,config:c,guid:d},null,e)}};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=Base64._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0
;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i=Base64._utf8_decode(i)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),
b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b,c="",d=0,e=0,f=0;d<a.length;)e=a.charCodeAt(d),e<128?(c+=String.fromCharCode(e),d++):e>191&&e<224?(f=a.charCodeAt(d+1),c+=String.fromCharCode((31&e)<<6|63&f),d+=2):(f=a.charCodeAt(d+1),b=a.charCodeAt(d+2),c+=String.fromCharCode((15&e)<<12|(63&f)<<6|63&b),d+=3);return c}};"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,
escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=null,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,f=[],"[object Array]"===Object.prototype.toString.apply(i)){for(e=i.length,
c=0;c<e;c+=1)f[c]=str(c,i)||"null";return d=0===f.length?"[]":gap?"[\n"+gap+f.join(",\n"+gap)+"\n"+h+"]":"["+f.join(",")+"]",gap=h,d}if(rep&&"object"==typeof rep)for(e=rep.length,c=0;c<e;c+=1)"string"==typeof rep[c]&&(g=rep[c],(d=str(g,i))&&f.push(quote(g)+(gap?": ":":")+d));else for(g in i)Object.prototype.hasOwnProperty.call(i,g)&&(d=str(g,i))&&f.push(quote(g)+(gap?": ":":")+d);return d=0===f.length?"{}":gap?"{\n"+gap+f.join(",\n"+gap)+"\n"+h+"}":"{"+f.join(",")+"}",gap=h,d}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){
return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap="",indent="",meta={"\b":"\\b","\t":"\\t",
"\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep=null;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d=null,e=a[b];if(e&&"object"==typeof e)for(d in e)Object.prototype.hasOwnProperty.call(e,d)&&(c=walk(e,d),
void 0!==c?e[d]=c:delete e[d]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();